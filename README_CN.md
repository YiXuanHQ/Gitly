# Git Assistant - Git增强插件

> 专为VS Code打造的强大Git可视化管理工具

## 🎯 项目简介

Git Assistant 是一款功能强大的VS Code扩展，旨在简化Git操作，提供直观的可视化界面，帮助开发者更高效地管理代码版本。

## 💡 核心价值

- **提升效率**：通过快捷键和可视化界面，将常用Git操作时间缩短80%
- **降低门槛**：直观的UI设计，让Git新手也能轻松上手
- **减少错误**：智能检测和提示，避免常见的Git操作失误
- **增强体验**：优雅的交互设计，让版本控制变得愉悦

## 🚀 核心功能详解

### 1. 快捷Git操作

#### 快速推送 (Push)
- 快捷键：`Ctrl+Alt+P`
- 功能：
  - 自动检测待推送的更改
  - 推送前确认（可配置）
  - 显示推送进度
  - 错误自动重试

#### 快速拉取 (Pull)
- 快捷键：`Ctrl+Alt+L`
- 功能：
  - 检测未提交的更改
  - 自动stash（如需要）
  - 显示拉取进度
  - 冲突智能检测

#### 克隆仓库 (Clone)
- 功能：
  - 可视化输入仓库地址
  - 选择目标文件夹
  - 显示克隆进度
  - 完成后自动打开

#### 零基础初始化（Init / Remote / Initial Commit）
- 适用：在**空文件夹**中快速创建 Git 仓库并关联远程
- 功能：
  - 一键执行 `git init`
  - 引导输入远程地址并执行 `git remote add origin`
  - 自动完成 `git add .`、`git commit -m "Initial commit"`（初始提交到本地仓库）、可选 `git push -u origin main`
  - 控制面板提供按钮和进度提示，适合首次搭建项目

#### 可视化控制面板
- **8个功能标签页**（按固定顺序显示，每个标签按钮宽度固定为 120px）：
  - 📋 快捷指令 - 命令历史记录和快速执行
  - 📚 Git 指令集 - Git命令参考手册
  - 🌿 分支管理 - 分支树和操作界面（创建、切换、合并）
  - 🌳 分支依赖 - 分支合并路径与依赖关系可视化
  - ⚠️ 冲突解决 - 冲突检测和解决工具
  - 📊 提交图谱 - 2D图形化提交历史（高DPI优化）
  - 📅 时间线 - 提交时间线日历视图（主题适配）
  - 🔥 热力图 - 文件修改频率和贡献者活跃度分析

### 2. 分支可视化管理

#### 分支树视图
- **本地分支**：
  - 显示所有本地分支
  - 标记当前分支
  - 快速切换
  - 切换和合并操作

- **远程分支**：
  - 显示远程分支列表
  - 检出为本地分支
  - 查看追踪关系

#### 分支操作
- **创建分支**：
  - 输入验证
  - 选择是否立即切换
  - 基于当前提交创建

- **切换分支**：
  - 快速选择列表
  - 未提交更改保护
  - 自动stash功能

- **合并分支**：
  - 选择要合并的分支
  - 显示预期变更
  - 冲突自动检测
  - 合并后清理

### 3. 提交历史可视化

#### 2D提交图谱
- **图形化展示**：
  - 类似GitKraken的可视化
  - 分支关系清晰展示
  - 提交节点可点击
  - 支持缩放和滚动
  - 使用D3.js力导向图布局
- **显示优化**：
  - 高DPI支持，自动适配设备像素比
  - 优化的字体渲染，使用系统字体栈
  - 改进的文本换行处理，支持中英文混合
  - 增强的颜色对比度，提升可读性
  - 节点高光效果，更好的视觉反馈

#### 热力图分析
- **文件修改频率**：
  - 统计每个文件的修改次数
  - 颜色深浅表示修改频率
  - 支持按修改次数排序
  - 快速识别热点文件

- **贡献者活跃度**：
  - 统计每个贡献者的提交数
  - 展示贡献者活跃度分布
  - 识别核心贡献者

#### 分支依赖图
- **依赖关系可视化**：
  - 展示分支之间的合并关系
  - 显示合并路径和方向
  - 标识当前分支
  - 支持交互式探索

#### 时间线视图
- **日历热力图**：
  - 按日期统计提交数量
  - 统一的颜色方案（#0e639c）
  - 紧凑的日历布局，优化的尺寸
  - 支持年月切换
  - 点击日期查看详细提交
  - 完整的浅色/深色主题适配

- **时间线图表**：
  - 柱状图展示每日提交统计
  - 支持年月选择
  - 显示提交峰值和低谷
  - 自动主题适配

#### 历史浏览
- **列表视图**：
  - 提交信息
  - 作者和时间
  - 提交哈希
  - 相对时间显示

- **详情面板**：
  - 完整提交消息
  - 文件变更列表
  - 增删行数统计
  - 代码差异查看

#### 搜索功能
- 按作者搜索
- 按提交消息搜索
- 按时间范围过滤
- 按文件路径过滤

### 4. 冲突检测与解决

#### 实时检测
- 自动扫描冲突文件
- 文件树标记
- 冲突数量统计
- 冲突位置高亮

#### 解决方案
- **接受当前更改**：保留本地修改
- **接受传入更改**：使用远程修改
- **接受所有更改**：保留两边修改
- **手动编辑**：精细控制合并

#### 辅助功能
- 三栏对比视图
- 语法高亮
- 差异导航
- 撤销重做

### 5. 快捷指令历史

#### 命令历史记录
- **执行历史**：
  - 记录所有已执行的Git命令
  - 显示执行时间和状态
  - 成功/失败状态标识
  - 错误信息记录

#### 命令分类管理
- **功能分类**：
  - 仓库初始化类命令
  - Git基础操作命令
  - 分支管理命令
  - 冲突解决命令
  - 工具类命令

#### 快速执行
- **从历史重新执行**：
  - 点击历史记录快速重试
  - 支持命令参数编辑
  - 批量执行多个命令

#### 状态显示
- 命令执行成功/失败标识
- 执行时间显示
- 错误详情查看

## 📖 使用场景

### 场景1：日常开发流程
```
1. 拉取最新代码 (Ctrl+Alt+L)
2. 创建功能分支
3. 编写代码并提交
4. 推送到远程 (Ctrl+Alt+P)
5. 发起Pull Request
```

### 场景2：多分支协作
```
1. 查看分支树了解项目状态
2. 切换到功能分支进行开发
3. 定期合并主分支保持同步
4. 解决冲突（如有）
5. 完成后合并回主分支
```

### 场景3：代码审查
```
1. 打开提交历史视图
2. 浏览最近的提交
3. 查看具体提交的文件变更
4. 对比不同版本的差异
```

## ⚙️ 高级配置

### 自动化配置
```json
{
  // 每5分钟自动fetch
  "git-assistant.autoFetch": true,
  "git-assistant.autoFetchInterval": 300000,
  
  // 自动解决简单冲突
  "git-assistant.autoResolveConflicts": false,
  
  // 自动清理已合并的分支
  "git-assistant.autoCleanupBranches": false
}
```

### 通知配置
```json
{
  // 显示操作成功通知
  "git-assistant.showSuccessNotifications": true,
  
  // 显示警告通知
  "git-assistant.showWarningNotifications": true,
  
  // 操作完成后播放声音
  "git-assistant.playSoundOnComplete": false
}
```

### UI配置
```json
{
  // 提交历史显示条数
  "git-assistant.maxHistoryCount": 100,
  
  // 分支列表排序方式
  "git-assistant.branchSortBy": "recent",
  
  // 显示相对时间
  "git-assistant.useRelativeTime": true,
  
  // 紧凑模式
  "git-assistant.compactMode": false
}
```

## 🛠️ 技术栈

- **TypeScript**：类型安全的开发体验
- **React**：构建可视化界面
- **simple-git**：Git操作封装
- **VS Code Extension API**：扩展功能实现
- **Webpack**：模块打包
- **D3.js**：数据可视化（2D图谱、热力图、分支依赖图、时间线）

## 📊 性能优化

- 异步操作避免UI阻塞
- 虚拟列表优化长列表渲染
- 增量加载提交历史
- 智能缓存减少Git调用
- 防抖节流优化用户交互

## 🔐 安全性

- 不存储Git凭据
- 使用系统Git配置
- 操作前二次确认
- 敏感操作日志记录
- 错误处理防止数据丢失

## 🐛 故障排除

### 常见问题

**Q: 扩展无法识别Git仓库**
```
A: 确保工作区根目录包含.git文件夹，或使用"Git: Initialize Repository"初始化
```

**Q: 推送失败提示认证错误**
```
A: 检查Git凭据，运行 git config --list 查看配置
```

**Q: 分支切换失败**
```
A: 确保没有未提交的更改，或使用stash功能暂存
```

**Q: 可视化界面不显示**
```
A: 重新加载窗口 (Ctrl+R) 或重启VS Code
```

## 📈 路线图

### v0.2.0 (计划中)
- [ ] 支持Git LFS
- [ ] 标签管理
- [ ] Stash管理界面
- [ ] 提交信息模板
- [ ] 团队协作统计

### v0.3.0 (计划中)
- [ ] Git Flow支持
- [ ] Cherry-pick功能
- [ ] Rebase交互式界面
- [ ] 多仓库管理
- [ ] 性能分析工具

### v1.0.0 (计划中)
- [ ] 完整的Git操作覆盖
- [ ] AI辅助冲突解决
- [ ] 团队协作增强
- [ ] 自定义工作流
- [ ] 插件系统

## 🤝 参与贡献

### 贡献类型
- 🐛 报告Bug
- 💡 提出新功能
- 📝 改进文档
- 🌐 翻译支持
- 💻 提交代码

### 开发环境搭建

```bash
# 1. Fork并克隆仓库
git clone https://github.com/yourusername/git-assistant.git

# 2. 安装依赖
cd git-assistant
npm install

# 3. 启动开发模式
npm run watch

# 4. 按F5在VS Code中调试

# 5. 运行测试
npm test

# 6. 提交前检查
npm run lint
npm run compile
```

## 📞 获取帮助

- 📖 [文档中心](https://github.com/yourusername/git-assistant/wiki)
- 💬 [讨论区](https://github.com/yourusername/git-assistant/discussions)
- 🐛 [问题追踪](https://github.com/yourusername/git-assistant/issues)
- 📧 邮件支持: support@gitassistant.com

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

---

**让Git操作更简单，让开发更专注！** ⭐

